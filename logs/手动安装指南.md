# Python依赖安装问题解决指南

## 问题描述
你的系统遇到了代理配置问题，导致pip和conda都无法正常连接到软件包仓库。

## 解决方案

### 方案1: 检查系统代理设置
1. **检查Windows系统代理设置：**
   - 打开"设置" → "网络和Internet" → "代理"
   - 查看是否启用了代理服务器
   - 如果不需要代理，请关闭

2. **检查环境变量：**
   ```powershell
   # 在PowerShell中运行以下命令查看代理环境变量
   Get-ChildItem env: | Where-Object {$_.Name -like "*proxy*"}
   ```

### 方案2: 清除所有代理配置
在PowerShell中依次运行以下命令：

```powershell
# 清除环境变量
$env:HTTP_PROXY = $null
$env:HTTPS_PROXY = $null  
$env:http_proxy = $null
$env:https_proxy = $null
$env:ALL_PROXY = $null

# 清除pip配置
pip config unset global.proxy
pip config unset global.index-url
pip config unset global.trusted-host

# 清除conda代理配置
conda config --remove-key proxy_servers
```

### 方案3: 使用离线安装
如果网络问题无法解决，可以下载whl文件手动安装：

1. **下载依赖包：**
   - 访问 https://pypi.org/project/fastapi/#files
   - 下载 fastapi 的 .whl 文件
   - 访问 https://pypi.org/project/uvicorn/#files  
   - 下载 uvicorn 的 .whl 文件

2. **手动安装：**
   ```powershell
   pip install 下载的fastapi文件.whl
   pip install 下载的uvicorn文件.whl
   ```

### 方案4: 临时使用国内镜像
尝试以下国内镜像源：

```powershell
# 清华大学源
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ --trusted-host pypi.tuna.tsinghua.edu.cn fastapi uvicorn[standard]

# 阿里云源  
pip install -i https://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com fastapi uvicorn[standard]

# 中科大源
pip install -i https://pypi.mirrors.ustc.edu.cn/simple/ --trusted-host pypi.mirrors.ustc.edu.cn fastapi uvicorn[standard]
```

### 方案5: 检查防火墙和安全软件
1. 临时关闭Windows防火墙
2. 检查杀毒软件是否阻止了网络连接
3. 如果使用VPN，尝试断开VPN连接

## 验证安装
安装成功后，运行以下命令验证：

```powershell
python -c "import fastapi; print('FastAPI安装成功:', fastapi.__version__)"
python -c "import uvicorn; print('Uvicorn安装成功:', uvicorn.__version__)"
```

## 启动项目
依赖安装成功后，可以启动项目：

```powershell
# 在backend目录下运行
python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

## 常见错误排查
- `ProxyError`: 代理配置问题
- `SSL Error`: 证书验证问题，添加 `--trusted-host` 参数
- `Timeout`: 网络超时，检查网络连接
- `Permission Denied`: 权限问题，以管理员身份运行PowerShell

## 联系支持
如果问题仍然存在，请提供以下信息：
1. 具体的错误信息
2. 网络环境（是否使用公司网络、VPN等）
3. Windows版本和Python版本
4. 是否有特殊的安全软件 